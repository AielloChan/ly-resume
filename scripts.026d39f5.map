{"version":3,"sources":["scripts/map.js","scripts/lineSpirit.js","scripts/index.js","../../.config/yarn/global/node_modules/parcel-bundler/src/builtins/bundle-url.js","../../.config/yarn/global/node_modules/parcel-bundler/src/builtins/css-loader.js"],"names":["getLocation","options","enableHighAccuracy","maximumAge","navigator","geolocation","getCurrentPosition","onSuccess","onError","console","log","position","longitude","coords","latitude","map","BMap","Map","point","Point","centerAndZoom","icon","Icon","Size","offset","imageOffset","marker","Marker","addOverlay","addEventListener","alert","error","document","querySelector","remove","window","onload","init","LineSpirit","canvas","ctx","cw","cx","ch","cy","linesNum","requestId","linesRy","line","flag","a","b","y","x","randomIntFromInterval","va","vb","draw","strokeStyle","beginPath","moveTo","lineTo","stroke","update","edges","requestAnimationFrame","clearRect","i","length","l","j","l1","intersect2lines","push","cancelAnimationFrame","width","body","scrollWidth","height","scrollHeight","l2","p1","p2","p3","p4","denominator","ua","ub","markPoint","p","arc","Math","PI","fill","mn","mx","random","config","el","background","getContext","fillStyle","setTimeout","loadDom","pageDom","style","opacity","display","bundleURL","getBundleURLCached","getBundleURL","Error","err","matches","stack","match","getBaseURL","url","replace","exports","bundle","require","updateLink","link","newLink","cloneNode","href","split","Date","now","parentNode","insertBefore","nextSibling","cssTimeout","reloadCSS","links","querySelectorAll","module"],"mappings":"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","file":"scripts.026d39f5.map","sourceRoot":"..","sourcesContent":["// 调用HTML5 GeoLocation API获取地理位置\nfunction getLocation() {\n  var options = {\n    enableHighAccuracy: true,\n    maximumAge: 1000\n  };\n\n  if (navigator.geolocation) {\n    //浏览器支持geolocation\n    navigator.geolocation.getCurrentPosition(onSuccess, onError, options);\n  } else {\n    //浏览器不支持geolocation\n    console.log(\"浏览器不支持GeoLocation!\");\n  }\n}\n\n// 获取成功\nfunction onSuccess(position) {\n  // 经度\n  var longitude = position.coords.longitude;\n\n  // 纬度\n  var latitude = position.coords.latitude;\n\n  // 使用百度地图API创建地图实例\n  var map = new BMap.Map(\"map\");\n\n  // 创建一个坐标\n  var point = new BMap.Point(longitude, latitude);\n\n  // 地图初始化，设置中心点坐标和地图级别\n  map.centerAndZoom(point, 16);\n\n  // 设置标注的图标,可自己定义图标\n  var icon = new BMap.Icon(\n    \"http://api.map.baidu.com/img/markers.png\",\n    new BMap.Size(23, 25),\n    {\n      offset: new BMap.Size(10, 25), // 定位图标尺寸\n      imageOffset: new BMap.Size(0, 0 - 11 * 25) // 设置图片偏移\n    }\n  );\n\n  // 设置标注的经纬度\n  var marker = new BMap.Marker(new BMap.Point(longitude, latitude), {\n    icon: icon\n  });\n\n  // 把标注添加到地图上\n  map.addOverlay(marker);\n\n  // 设置点击事件\n  marker.addEventListener(\"click\", function() {\n    alert(\"经度:\" + longitude + \", 纬度:\" + latitude);\n  });\n}\n\n// 获取失败\nfunction onError(error) {\n  document.querySelector(\"#map\").remove();\n}\n\nwindow.onload = getLocation;\n","let canvas, ctx, cw, cx, ch, cy, linesNum, requestId, linesRy;\r\n\r\nfunction line(flag) {\r\n  this.flag = flag;\r\n  this.a = {};\r\n  this.b = {};\r\n  if (flag == \"v\") {\r\n    this.a.y = 0;\r\n    this.b.y = ch;\r\n    this.a.x = randomIntFromInterval(0, ch);\r\n    this.b.x = randomIntFromInterval(0, ch);\r\n  } else if (flag == \"h\") {\r\n    this.a.x = 0;\r\n    this.b.x = cw;\r\n    this.a.y = randomIntFromInterval(0, cw);\r\n    this.b.y = randomIntFromInterval(0, cw);\r\n  }\r\n  this.va = randomIntFromInterval(25, 100) / 100;\r\n  this.vb = randomIntFromInterval(25, 100) / 100;\r\n\r\n  this.draw = function() {\r\n    ctx.strokeStyle = \"#ccc\";\r\n    ctx.beginPath();\r\n    ctx.moveTo(this.a.x, this.a.y);\r\n    ctx.lineTo(this.b.x, this.b.y);\r\n    ctx.stroke();\r\n  };\r\n\r\n  this.update = function() {\r\n    if (this.flag == \"v\") {\r\n      this.a.x += this.va;\r\n      this.b.x += this.vb;\r\n    } else if (flag == \"h\") {\r\n      this.a.y += this.va;\r\n      this.b.y += this.vb;\r\n    }\r\n\r\n    this.edges();\r\n  };\r\n\r\n  this.edges = function() {\r\n    if (this.flag == \"v\") {\r\n      if (this.a.x < 0 || this.a.x > cw) {\r\n        this.va *= -1;\r\n      }\r\n      if (this.b.x < 0 || this.b.x > cw) {\r\n        this.vb *= -1;\r\n      }\r\n    } else if (flag == \"h\") {\r\n      if (this.a.y < 0 || this.a.y > ch) {\r\n        this.va *= -1;\r\n      }\r\n      if (this.b.y < 0 || this.b.y > ch) {\r\n        this.vb *= -1;\r\n      }\r\n    }\r\n  };\r\n}\r\n\r\nfunction draw() {\r\n  requestId = window.requestAnimationFrame(draw);\r\n  ctx.clearRect(0, 0, cw, ch);\r\n\r\n  for (var i = 0; i < linesRy.length; i++) {\r\n    var l = linesRy[i];\r\n    l.draw();\r\n    l.update();\r\n  }\r\n  for (var i = 0; i < linesRy.length; i++) {\r\n    var l = linesRy[i];\r\n    for (var j = i + 1; j < linesRy.length; j++) {\r\n      var l1 = linesRy[j];\r\n      intersect2lines(l, l1);\r\n    }\r\n  }\r\n}\r\n\r\nexport function init() {\r\n  linesRy.length = 0;\r\n  for (var i = 0; i < linesNum; i++) {\r\n    var flag = i % 2 == 0 ? \"h\" : \"v\";\r\n    var l = new line(flag);\r\n    linesRy.push(l);\r\n  }\r\n\r\n  if (requestId) {\r\n    window.cancelAnimationFrame(requestId);\r\n    requestId = null;\r\n  }\r\n\r\n  (cw = canvas.width = document.body.scrollWidth), (cx = cw / 2);\r\n  (ch = canvas.height = document.body.scrollHeight), (cy = ch / 2);\r\n\r\n  draw();\r\n}\r\n\r\nfunction intersect2lines(l1, l2) {\r\n  var p1 = l1.a,\r\n    p2 = l1.b,\r\n    p3 = l2.a,\r\n    p4 = l2.b;\r\n  var denominator =\r\n    (p4.y - p3.y) * (p2.x - p1.x) - (p4.x - p3.x) * (p2.y - p1.y);\r\n  var ua =\r\n    ((p4.x - p3.x) * (p1.y - p3.y) - (p4.y - p3.y) * (p1.x - p3.x)) /\r\n    denominator;\r\n  var ub =\r\n    ((p2.x - p1.x) * (p1.y - p3.y) - (p2.y - p1.y) * (p1.x - p3.x)) /\r\n    denominator;\r\n  var x = p1.x + ua * (p2.x - p1.x);\r\n  var y = p1.y + ua * (p2.y - p1.y);\r\n  if (ua > 0 && ub > 0) {\r\n    markPoint({\r\n      x: x,\r\n      y: y\r\n    });\r\n  }\r\n}\r\n\r\nfunction markPoint(p) {\r\n  ctx.beginPath();\r\n  ctx.arc(p.x, p.y, 2, 0, 2 * Math.PI);\r\n  ctx.fill();\r\n}\r\n\r\nfunction randomIntFromInterval(mn, mx) {\r\n  return ~~(Math.random() * (mx - mn + 1) + mn);\r\n}\r\n\r\nexport function LineSpirit(options) {\r\n  options = options || {};\r\n  const config = {\r\n    el: options.el || \"#canvas\",\r\n    background: options.background || \"#000\",\r\n    linesNum: options.linesNum || 16\r\n  };\r\n\r\n  canvas = document.querySelector(config.el);\r\n  ctx = canvas.getContext(\"2d\");\r\n  cw = canvas.width = document.body.scrollWidth;\r\n  cx = cw / 2;\r\n  ch = canvas.height = document.body.scrollHeight;\r\n  cy = ch / 2;\r\n\r\n  ctx.fillStyle = config.background;\r\n  linesNum = config.linesNum;\r\n  linesRy = [];\r\n  requestId = null;\r\n\r\n  for (var i = 0; i < linesNum; i++) {\r\n    var flag = i % 2 == 0 ? \"h\" : \"v\";\r\n    var l = new line(flag);\r\n    linesRy.push(l);\r\n  }\r\n\r\n  setTimeout(function() {\r\n    init();\r\n\r\n    addEventListener(\"resize\", init, false);\r\n  }, 15);\r\n}\r\n","import \"../styles/index.scss\";\nimport \"./map.js\";\nimport { LineSpirit, init } from \"./lineSpirit.js\";\n\nLineSpirit({\n  el: \"#lineSpirit\",\n  linesNum: 16\n});\n\nconst loadDom = document.querySelector(\".loader\");\nconst pageDom = document.querySelector(\".page\");\n\nsetTimeout(() => {\n  loadDom.style.opacity = \"0\";\n  pageDom.style.display = \"flex\";\n  init();\n}, 1500);\n","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var bundle = require('./bundle-url');\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    link.remove();\n  };\n  newLink.href = link.href.split('?')[0] + '?' + Date.now();\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      if (bundle.getBaseURL(links[i].href) === bundle.getBundleURL()) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nmodule.exports = reloadCSS;\n"]}